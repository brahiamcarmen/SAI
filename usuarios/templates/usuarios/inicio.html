{% extends 'usuarios/base_usuario3.html' %}
{% load static %}
{% block styles %}
<link href="{% static 'stylesheets/diseno.css' %}" rel="stylesheet" type="text/css">
{% endblock %}
{%block title %} <title>Inicio</title> {%endblock%}
{% block content %}
{% load humanize %}
{% include 'usuarios/alerts.html' %}
<div class="page-body">
  <div class="spinner"></div>
  <div class="container-fluid">
    <div class="row">
       <div class="col-md-2">
        <div class="row">
          <div class="col-md-12">
            <h3 class="subheader">Empresa</h3>
              <div class="col-auto" style="margin-top: 0.5rem">
                <div class="card">
                  <div class="card-body p-4 text-center">
                    <span class="avatar avatar-xl mb-1" style="background-image: url({{ logo.url }})"></span>
                    <h3 class="m-0 mb-1">{{ acueducto }}</h3>
                    <div class="text-muted">{{ nit }}</div>
                  </div>
                  <div class="d-flex">
                                        
                  </div>
            </div>
          </div>
          </div>
        </div>
          <br>
          <div class="row text-center" style="text-align: center;">
            <div class="col-6 col-sm-4 col-md-2 col-xl-auto mb-3">
              <a data-bs-toggle="offcanvas" href="#offcanvasStart" role="button" aria-controls="offcanvasStart" class="btn   btn-indigo  w-100 btn-icon">
                          <!-- Download SVG icon from http://tabler-icons.io/i/search -->
                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="10" cy="10" r="7" /><line x1="21" y1="21" x2="15" y2="15" /></svg>
              </a>
            </div>
            <div class="col-6 col-sm-4 col-md-2 col-xl-auto mb-3">
              <a data-bs-toggle="offcanvas" href="#offcanvasStart2" role="button" aria-controls="offcanvasStart" class="btn   btn-indigo  w-100 btn-icon">
                          <!-- Download SVG icon from http://tabler-icons.io/i/history -->
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="12 8 12 12 14 14" /><path d="M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5" /></svg>
              </a>
            </div>
            <div class="col-6 col-sm-4 col-md-2 col-xl-auto mb-3">
              <a data-bs-toggle="offcanvas" href="#offcanvasStart3" role="button" aria-controls="offcanvasStart" class="btn  btn-indigo w-100 btn-icon">
                          <!-- Download SVG icon from http://tabler-icons.io/i/user-exclamation -->
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="9" cy="7" r="4" /><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /><line x1="19" y1="7" x2="19" y2="10" /><line x1="19" y1="14" x2="19" y2="14.01" /></svg>
              </a>
            </div>
            <div class="col-6 col-sm-4 col-md-2 col-xl-auto mb-3">
              <a data-bs-toggle="offcanvas" href="#offcanvasStart4" role="button" aria-controls="offcanvasStart" class="btn   btn-indigo  w-100 btn-icon">
                         <!-- Download SVG icon from http://tabler-icons.io/i/container -->
                  <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 4v.01" /><path d="M20 20v.01" /><path d="M20 16v.01" /><path d="M20 12v.01" /><path d="M20 8v.01" /><rect x="8" y="4" width="8" height="16" rx="1" /><path d="M4 4v.01" /><path d="M4 20v.01" /><path d="M4 16v.01" /><path d="M4 12v.01" /><path d="M4 8v.01" /></svg>
              </a>
            </div>
          </div>
          <br>
        <div class="row">
          <h3 class="subheader">Reportes disponibles</h3>
          <div class="col-md-12" style="margin-top: 0.5rem">
               <a href="{% url 'usuarios:reportecompleto' %}" class="btn btn-sm btn-indigo  btn-pill w-100">Informe completo</a>
            </div>
            <div class="col-md-12" style="margin-top: 0.5rem">
               <a href="{% url 'usuarios:reportepagos' %}" class="btn btn-sm btn-indigo  btn-pill w-100">Ingresos</a>
            </div>
            <div class="col-md-12" style="margin-top: 0.5rem">
               <a href="{% url 'usuarios:reportegastos' %}" class="btn btn-sm btn-indigo  btn-pill w-100">Egresos</a>
            </div>
            <div class="col-md-12" style="margin-top: 0.5rem">
               <a href="{% url 'usuarios:reportecierre' %}" class="btn btn-sm btn-indigo  btn-pill w-100">Cierres mensuales</a>
            </div>
            <div class="col-md-12" style="margin-top: 0.5rem">
               <a href="{% url 'usuarios:reporteconceptos' %}" class="btn btn-sm btn-indigo btn-pill w-100">Conceptos</a>
            </div>
            <div class="col-md-12" style="margin-top: 0.5rem">
               <a href="" class="btn btn-sm btn-indigo  btn-pill w-100">Creditos</a>
            </div>
            <div class="col-md-12" style="margin-top: 0.5rem">
               <a href="{% url 'usuarios:rconsumos' %}" class="btn btn-sm btn-indigo  btn-pill w-100">Consumos</a>
            </div>
        </div>
      </div>
      <div class="col-md-8">
        <div class="row">
            <div class="col-md-3">
              <div class="row">
                           <h3 class="subheader">Estado de servicio</h3>
                    <div class="card">
                      <div class="card-body">
                        <div class="mb-2">
                          <!-- Download SVG icon from http://tabler-icons.io/i/book -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="4" /><path d="M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7" /></svg>
                          Operativos: <strong>{{operativos}}</strong>
                        </div>
                        <div class="mb-2">
                          <!-- Download SVG icon from http://tabler-icons.io/i/briefcase -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="6" cy="7" r="3" /><circle cx="6" cy="17" r="3" /><line x1="8.6" y1="8.6" x2="19" y2="19" /><line x1="8.6" y1="15.4" x2="19" y2="5" /></svg>
                          Suspendidos: <strong>{{suspendidos}}</strong>
                        </div>
                        <div class="mb-2">
                          <!-- Download SVG icon from http://tabler-icons.io/i/home -->
                           <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="3" y1="3" x2="21" y2="21" /><path d="M16 12a4 4 0 0 0 -4 -4m-2.834 1.177a4 4 0 0 0 5.66 5.654" /><path d="M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7" /></svg>
                          Retirados: <strong>{{retirados}}</strong>
                        </div>
                        <div class="mb-2">
                          <!-- Download SVG icon from http://tabler-icons.io/i/map-pin -->
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="9" cy="7" r="4" /><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /><path d="M16 3.13a4 4 0 0 1 0 7.75" /><path d="M21 21v-2a4 4 0 0 0 -3 -3.85" /></svg>
                          Usuarios: <strong>
                            {{personas}}</strong>
                        </div>
                        <div class="mb-2">
                          Total activos: <strong>
                            {{suscriptores}}</strong>
                        </div>
                      </div>
                    </div>
              </div>
              <br>
              <div class="row">
                              <h3 class="subheader">Estratificacion</h3>
                    <div class="card">
                      <div class="card-body">
                        <div class="mb-2">
                          <!-- Download SVG icon from http://tabler-icons.io/i/home-2 -->
  <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="5 12 3 12 12 3 21 12 19 12" /><path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" /><rect x="10" y="12" width="4" height="4" /></svg>
                          1: <strong>{{uno}}</strong>
                        </div>
                        <div class="mb-2">
                          <!-- Download SVG icon from http://tabler-icons.io/i/home -->
  <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="5 12 3 12 12 3 21 12 19 12" /><path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" /><path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" /></svg>
                          2: <strong>{{dos}}</strong>
                        </div>
                        <div class="mb-2">
                          <!-- Download SVG icon from http://tabler-icons.io/i/home-2 -->
  <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="5 12 3 12 12 3 21 12 19 12" /><path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" /><rect x="10" y="12" width="4" height="4" /></svg>
                          3: <strong>{{tres}}</strong>
                        </div>
                        <div class="mb-2">
                          <!-- Download SVG icon from http://tabler-icons.io/i/home -->
  <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="5 12 3 12 12 3 21 12 19 12" /><path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" /><path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" /></svg>
                          4: <strong>
                            {{cuatro}}</strong>
                        </div>
                        <div class="mb-2">
                          <!-- Download SVG icon from http://tabler-icons.io/i/home-2 -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="5 12 3 12 12 3 21 12 19 12" /><path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" /><rect x="10" y="12" width="4" height="4" /></svg>
                          5: <strong>
                            {{cinco}}</strong>
                        </div>
                        <div class="mb-2">
                          <!-- Download SVG icon from http://tabler-icons.io/i/building-community -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 9l5 5v7h-5v-4m0 4h-5v-7l5 -5m1 1v-6a1 1 0 0 1 1 -1h10a1 1 0 0 1 1 1v17h-8" /><line x1="13" y1="7" x2="13" y2="7.01" /><line x1="17" y1="7" x2="17" y2="7.01" /><line x1="17" y1="11" x2="17" y2="11.01" /><line x1="17" y1="15" x2="17" y2="15.01" /></svg>
                          Oficial: <strong>
                            {{oficial}}</strong>
                        </div>
                        <div class="mb-2">
                          <!-- Download SVG icon from http://tabler-icons.io/i/building-factory -->
                               <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 21c1.147 -4.02 1.983 -8.027 2 -12h6c.017 3.973 .853 7.98 2 12" /><path d="M12.5 13h4.5c.025 2.612 .894 5.296 2 8" /><path d="M9 5a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1a2.4 2.4 0 0 0 2 1a2.4 2.4 0 0 0 2 -1a2.4 2.4 0 0 1 2 -1a2.4 2.4 0 0 1 2 1" /><line x1="3" y1="21" x2="22" y2="21" /></svg>
                          Industrial: <strong>
                            {{industrial}}</strong>
                        </div>
                        <div class="mb-2">
                          <!-- Download SVG icon from http://tabler-icons.io/i/building-store -->
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="3" y1="21" x2="21" y2="21" /><path d="M3 7v1a3 3 0 0 0 6 0v-1m0 1a3 3 0 0 0 6 0v-1m0 1a3 3 0 0 0 6 0v-1h-18l2 -4h14l2 4" /><line x1="5" y1="21" x2="5" y2="10.85" /><line x1="19" y1="21" x2="19" y2="10.85" /><path d="M9 21v-4a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v4" /></svg>
                          Comercial: <strong>
                            {{comercial}}</strong>
                        </div>
                        <div class="mb-2"><!-- Download SVG icon from http://tabler-icons.io/i/building-church -->
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="3" y1="21" x2="21" y2="21" /><path d="M10 21v-4a2 2 0 0 1 4 0v4" /><line x1="10" y1="5" x2="14" y2="5" /><line x1="12" y1="3" x2="12" y2="8" /><path d="M6 21v-7m-2 2l8 -8l8 8m-2 -2v7" /></svg>
                          Especial: <strong>
                            {{especial}}</strong>
                        </div>
                      </div>
                    </div>
              </div>
   
            </div>
             <div class="col-md-9">
              <div class="row">
                 <h3 class="subheader">Micromedicion</h3>
                      <div class="col-md-4">
                      <div class="card card-sm">
                        <div class="card-body">
                          <div class="row align-items-center">
                            <div class="col-auto">
                              <span class="bg-indigo text-white avatar">
                                    <!-- Download SVG icon from http://tabler-icons.io/i/gauge -->
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9" /><circle cx="12" cy="12" r="1" /><line x1="13.41" y1="10.59" x2="16" y2="8" /><path d="M7 12a5 5 0 0 1 5 -5" /></svg>
                              </span>
                            </div>
                            <div class="col">
                              <div class="font-weight-medium">
                                {{asignado}}
                              </div>
                              <div class="text-muted">
                                Medidores activos
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="card card-sm">
                        <div class="card-body">
                          <div class="row align-items-center">
                            <div class="col-auto">
                              <span class="bg-success text-white avatar">
                                    <!-- Download SVG icon from http://tabler-icons.io/i/chart-bar -->
                              <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="3" y="12" width="6" height="8" rx="1" /><rect x="9" y="8" width="6" height="12" rx="1" /><rect x="15" y="4" width="6" height="16" rx="1" /><line x1="4" y1="20" x2="18" y2="20" /></svg>
                              </span>
                            </div>
                            <div class="col">
                              <div class="font-weight-medium">
                                {{consumos|intcomma}} m3
                              </div>
                              <div class="text-muted">
                                Consumo anual
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="card card-sm">
                        <div class="card-body">
                          <div class="row align-items-center">
                            <div class="col-auto">
                              <span class="bg-success text-white avatar">
                                    <!-- Download SVG icon from http://tabler-icons.io/i/home-2 -->
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="5 12 3 12 12 3 21 12 19 12" /><path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" /><rect x="10" y="12" width="4" height="4" /></svg>
                              </span>
                            </div>
                            <div class="col">
                              <div class="font-weight-medium">
                                {{sinmedidor|intcomma}}
                              </div>
                              <div class="text-muted">
                                Predios sin medicion
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    
              </div>
              <br>
              <div class="row">
                <h3 class="subheader">Comparacion de consumo</h3>
                <div class="col-md-12">
                  <p><b style="color:#5eba00;">Limite: </b> Limite de consumo mensual en 500 m3</p>
                  <p><b style="color:#f10e0e;">Consumo:</b> Consumo mensual m3</p>
                  <p><b style="color:#ff922b;">Medidores:</b> Numero de medidores instalados</p>
                                  <div class="card">
                  <div class="card-body">
                    <div id="chart-line-stroke"></div>
                  </div>
                </div>
                
                </div>
              </div>
            </div>
        </div>
        
      </div>
      <div class="col-md-2">
        <div class="row">
          <h3 class="subheader">Informacion financiera - mes actual</h3>
              <div class="col-md-12" style="margin-top: 0.5rem">
                <div class="card card-sm">
                  <div class="card-body">
                    <div class="row align-items-center">
                      <div class="col-auto">
                        <span class="bg-green-lt avatar">
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /><line x1="9" y1="7" x2="10" y2="7" /><line x1="9" y1="13" x2="15" y2="13" /><line x1="13" y1="17" x2="15" y2="17" /></svg>
                        </span>
                      </div>
                      <div class="col">
                        <div class="font-weight-medium">
                          {{facturaspagas}}
                          <span class="float-right font-weight-medium text-green">+{{contador}}%</span>
                        </div>
                        <div class="text-muted">
                          Facturas pagas
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-12" style="margin-top: 0.5rem">
                <div class="card card-sm">
                  <div class="card-body">
                    <div class="row align-items-center">
                      <div class="col-auto">
                        <span class="bg-green-lt avatar">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2" /><path d="M12 3v3m0 12v3" /></svg>
                        </span>
                      </div>
                      <div class="col">
                        <div class="font-weight-medium">
                          $ {{pagos|intcomma}}
                          <span class="float-right font-weight-medium text-green">+{{porcentaje}}%</span>
                        </div>
                        <div class="text-muted">
                          Recaudado
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-12" style="margin-top: 0.5rem">
                <div class="card card-sm">
                  <div class="card-body">
                    <div class="row align-items-center">
                      <div class="col-auto">
                        <span class="bg-green-lt avatar">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12l-6.5 5.5" /><path d="M12 3v9h9" /><circle cx="12" cy="12" r="9" /></svg>
                        </span>
                      </div>
                      <div class="col">
                        <div class="font-weight-medium">
                          $ {{promedio|intcomma}}
                          <span class="float-right font-weight-medium text-green">+{{promtarifa}}%</span>
                        </div>
                        <div class="text-muted">
                          Promedio
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>            
        </div>
          <div class="row">
            <div class="col-md-12" style="margin-top: 0.5rem">
              <h3 class="subheader">Modulo de recaudo</h3>
                <div class="card-body">
                                <form action="{% url 'usuarios:verfactura' %}" method="get" class="form-inline">
                                  {% csrf_token %}
                                  <div class="row">
                                      <div class="col-sm-12">
                                          <video style="width: 100%;" src="" id="video" autoplay="true"></video>
                                      </div>
                                      <div class="col-sm-12">
                                          <input style="width: 100%" type="text" name="factura" class="form-control" placeholder="Numero de factura" id="miInput" oninput="verificarTexto()">
                                      </div>
                                          <button id="miBoton" style="margin-top: 1rem; width: 100%;" type="submit" class="btn btn-dark" disabled>Validar</button>
                                  </div>
                                </form>
                              </div>
            </div>
            
          </div>
      </div>

    </div>
    <br>
            <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasStart" aria-labelledby="offcanvasStartLabel">
              <div class="offcanvas-header">
                <h2 class="offcanvas-title" id="offcanvasStartLabel">Buscador</h2>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
              </div>
              <div class="offcanvas-body">
                <div>
                  <form action="{% url 'usuarios:busquedas' %}" method="get">
                    {% csrf_token %}
                    <div class="form-label">
                        <label class="form-label">Tipo de busqueda</label>
                        <select name="tipo" class="form-select">
                            <option>Cedula de ciudadania</option>
                            <option>Numero de matricula</option>
                        </select>
                    </div>
                    <div class="form-label">
                        <label class="form-label">ID</label>
                        <div class="input-group">
                            <input name="identificacion" type="text" class="form-control">
                        </div>
                    </div>
                    <div class="row text-center" >
                        <div class="col-sm-12" style="margin-top: 1rem;">
                            <button style="width: 100%;" type="submit" class="btn btn-sm btn-indigo btn-pill w-100">Buscar</button>
                        </div>
                    </div>
                </form>
                </div>
              </div>
            </div>
            <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasStart2" aria-labelledby="offcanvasStartLabel">
              <div class="offcanvas-header">
                <h2 class="offcanvas-title" id="offcanvasStartLabel">Historial</h2>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
              </div>
              <div class="offcanvas-body">
                            <div class="col-md-12">
                  <table class="table card-table table-vcenter">
                    <thead>
                      <tr>
                        <th>Descripcion</th>
                        <th colspan="2">Fecha</th>
                      </tr>
                    </thead>
                    <tbody>
                      {% for novedad in novedades %}
                      <tr>
                        <td>{{novedad.Descripcion}}</td>
                        <td>{{novedad.Fecha}}</td>
                      </tr>
                      {%endfor%}
                    </tbody>
                  </table>
            </div>
                <div>

                </div>
              </div>
            </div>
            <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasStart3" aria-labelledby="offcanvasStartLabel">
              <div class="offcanvas-header">
                <h2 class="offcanvas-title" id="offcanvasStartLabel">Informacion del usuario</h2>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
              </div>
              <div class="offcanvas-body">
                            <div class="col-md-12">
                               <div class="card">
                  <div class="card-body p-4 text-center">
                    <span class="avatar avatar-xl mb-1" style="background-image: url({{ foto.url }})"></span>
                    <h3 class="m-0 mb-1">{{ user.first_name }}&nbsp;{{ user.last_name }}</h3>
                    <div class="text-muted">{{ user.email }}</div>
                  </div>
                  <div class="d-flex">
                                        
                  </div>
            </div>
            <br>
                  <dl class="row">
                                <h3 class="subheader">Informacion adicional</h3>
                                  <dt class="col-5">Area:</dt>
                                  <dd class="col-7">{{departamento}}</dd>
                                  <dt class="col-5">Telefono:</dt>
                                  <dd class="col-7">{{ celular }}<dd>
                                  <dt class="col-5">Cargo:</dt>
                                  <dd class="col-7">{{ cargo }}</dd>
                                  <dt class="col-5">Fecha de registro:</dt>
                                  <dd class="col-7">{{ fechac }}</dd>
                                  <dt class="col-5">Ultimo ingreso:</dt>
                                  <dd class="col-7"> {{ ultimo }}</dd>
                              </dl>
            </div>
                <div>

                </div>
              </div>
            </div>
                        <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasStart4" aria-labelledby="offcanvasStartLabel">
              <div class="offcanvas-header">
                <h2 class="offcanvas-title" id="offcanvasStartLabel">Informacion del usuario</h2>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
              </div>
              <div class="offcanvas-body">
                <h3 class="subheader">Opciones disponibles</h3>
                <div class="row">
                  <div class="col-md-12" style="margin-top: 0.5rem">
                     <a href="{% url 'usuarios:registrotarifa' %}" class="btn btn-sm btn-dark  btn-pill w-100">Registrar tarifa</a>
                  </div>
                  <div class="col-md-12" style="margin-top: 0.5rem">
                     <a href="{% url 'usuarios:modificarempresa' %}" class="btn btn-sm btn-dark  btn-pill w-100">Actualizar datos empresa</a>
                  </div>
                  <div class="col-md-12" style="margin-top: 0.5rem">
                     <a href="" class="btn btn-sm btn-dark  btn-pill w-100" data-bs-toggle="modal" data-bs-target="#modal-simple3">Cargos por conexion</a>
                  </div>
                  <div class="col-md-12" style="margin-top: 0.5rem">
                     <a href="" class="btn btn-sm btn-dark  btn-pill w-100" data-bs-toggle="modal" data-bs-target="#modal-simple4">Tarifas</a>
                  </div>
                </div>
                <br>
                 <div class="row">
                  <h3 class="subheader">Usuarios registrados</h3>
                  {% for usuario in usuarios %}
                  <div class="col-md-12">
                    <a class="card card-link" href="">
                    <div class="card-body">
                            <div class="row">
                              <div class="col-auto">
                                <span class="avatar rounded" style="background-image: url({{ usuario.fotoUsuario.url }})"></span>
                              </div>
                              <div class="col">
                                <div class="font-weight-medium">{{ usuario.usuid.first_name }}&nbsp;{{ usuario.usuid.last_name }}&nbsp;
                                    {% if usuario.usuid.is_active is True %}
                                    <span class="badge bg-purple-lt">Activo</span>
                                    {% else %}
                                    <span class="badge bg-red-lt">Inactivo</span>
                                    {% endif %}
                                </div>
                                <div class="text-muted">{{usuario.TipoUsuario}}</div>
                              </div>
                            </div>
                          </div>
                    </a>
                    <br>
                  </div>
                  {%endfor%}
                </div>
                            
              </div>
            </div>
</div>
        <footer class="footer footer-transparent d-print-none">
          <div class="container-fluid">
            <div class="row text-center align-items-center flex-row-reverse">
              <div class="col-lg-auto ms-lg-auto">
                <ul class="list-inline list-inline-dots mb-0">
                  <li class="list-inline-item"><a href="./license.html" class="link-secondary">Licencia</a></li>
                </ul>
              </div>
              <div class="col-12 col-lg-auto mt-3 mt-lg-0">
                <ul class="list-inline list-inline-dots mb-0">
                  <li class="list-inline-item">
                   {{nombreproyectol}} &copy; 2023
                    <a href="." class="link-secondary">{{nombreproyecto}}</a>.
                     Todos los derechos reservados
                  </li>
                  <li class="list-inline-item">
                    <a href="./changelog.html" class="link-secondary" rel="noopener">
                      {{versionp}}
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </footer>
      </div>

{% endblock %}
{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'javascripts/video.js' %}"></script>
  <script>
    function verificarTexto() {
      var input = document.getElementById("miInput");
      var boton = document.getElementById("miBoton");
      
      if (input.value === "") {
        boton.disabled = true;
      } else {
        boton.disabled = false;
      }
    }
  </script>
      <style>
        .spinner {
            border: 16px solid #f3f3f3;
            border-top: 16px solid #3498db;
            border-radius: 50%;
            width: 120px;
            height: 120px;
            animation: spin 2s linear infinite;
            margin: auto;
            position: absolute;
            top: 0; left: 0; bottom: 0; right: 0;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
        <script>
        window.addEventListener('load', function() {
            document.querySelector('.spinner').style.display = 'none';
        });
    </script>
    <script>
      // @formatter:off

      const etiquetas = {{ labels|safe }};  // Datos de etiquetas
      const valores = {{data|safe }};      // Datos de valores
      const canti = {{cantmedidores|safe }};      // Datos de valores
      document.addEventListener("DOMContentLoaded", function () {
        window.ApexCharts && (new ApexCharts(document.getElementById('chart-line-stroke'), {
          chart: {
            type: "line",
            fontFamily: 'inherit',
            height: 240,
            parentHeightOffset: 0,
            toolbar: {
              show: false,
            },
            animations: {
              enabled: false
            },
          },
          fill: {
            opacity: 1,
          },
          stroke: {
            width: 2,
            lineCap: "round",
            curve: "straight",
          },
          series: [{
            name: "Numero de medidores",
            data: canti,
          },
          {
            name: "Tope 1",
            data: [500, 500, 500,500, 500, 500,500, 500, 500,500, 500, 500]
          },{
            name: "Consumo - M3",
            data: valores,
          }],
          grid: {
            padding: {
              top: -20,
              right: 0,
              left: -4,
              bottom: -4
            },
            strokeDashArray: 4,
          },
          xaxis: {
            labels: {
              padding: 0,
            },
            tooltip: {
              enabled: false
            },
            categories: etiquetas,
          },
          yaxis: {
            labels: {
              padding: 4
            },
          },
          colors: ["#ff922b", "#5eba00","#f10e0e"],
          legend: {
            show: false,
          },
        })).render();
      });
      // @formatter:on
    </script>
{% endblock %}